<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ezInvoice Tutorials - Learn How to Use Our Invoice Maker App</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css"
        integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@300;400;700&display=swap" rel="stylesheet" />
    <!-- Include constants.js first -->
    <script src="./js/constants.js"></script>
    <script>
        // Sample tutorial video data if not provided by constants.js
        if (!window.TUTORIAL_VIDEOS) {
            window.TUTORIAL_VIDEOS = [
                {
                    section: "Getting Started",
                    title: "Creating Your First Invoice",
                    description: "Learn how to create, customize, and send your first invoice within minutes.",
                    youtubeId: "dQw4w9WgXcQ", // Placeholder - replace with actual ID
                    duration: "3:45",
                    level: "Beginner"
                },
                {
                    section: "Getting Started",
                    title: "Setting Up Your Business Profile",
                    description: "Customize your business information, logo, and payment details for professional invoices.",
                    youtubeId: "dQw4w9WgXcQ", // Placeholder - replace with actual ID
                    duration: "4:20",
                    level: "Beginner"
                },
                {
                    section: "Advanced Features",
                    title: "Customizing Invoice Templates",
                    description: "Learn how to personalize your invoice templates with custom fields, colors, and layouts.",
                    youtubeId: "dQw4w9WgXcQ", // Placeholder - replace with actual ID
                    duration: "5:15",
                    level: "Intermediate"
                },
                {
                    section: "Advanced Features",
                    title: "Managing Client Database",
                    description: "Organize your clients, save their information, and quickly create invoices for repeat customers.",
                    youtubeId: "dQw4w9WgXcQ", // Placeholder - replace with actual ID
                    duration: "6:30",
                    level: "Intermediate"
                },
                {
                    section: "Advanced Features",
                    title: "Creating Recurring Invoices",
                    description: "Set up automatic recurring invoices for regular clients and subscription services.",
                    youtubeId: "dQw4w9WgXcQ", // Placeholder - replace with actual ID
                    duration: "4:50",
                    level: "Advanced"
                },
                {
                    section: "Tips and Tricks",
                    title: "Getting Paid Faster",
                    description: "Learn strategies and features that help you get paid more quickly by your clients.",
                    youtubeId: "dQw4w9WgXcQ", // Placeholder - replace with actual ID
                    duration: "7:10",
                    level: "All Levels"
                },
                {
                    section: "Tips and Tricks",
                    title: "Mobile Invoicing on the Go",
                    description: "Maximize productivity by creating and sending invoices from anywhere using your smartphone.",
                    youtubeId: "dQw4w9WgXcQ", // Placeholder - replace with actual ID
                    duration: "3:55",
                    level: "All Levels"
                }
            ];
        }
    </script>
    <!-- Include component scripts -->
    <script src="./components/header.js"></script>
    <script src="./components/footer.js"></script>
    <script src="./components/component-loader.js"></script>
    <style>
        .video-container {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
            height: 0;
            overflow: hidden;
        }
        
        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 0.5rem;
        }

        .tutorial-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .tutorial-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        .section-divider {
            position: relative;
        }

        .section-divider::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background: linear-gradient(to right, hsl(136, 65%, 51%), hsl(192, 70%, 51%));
            border-radius: 2px;
        }
    </style>
</head>

<body class="bg-gray-100">
    <!-- Header container, will be populated by JavaScript -->
    <div id="header-container"></div>

    <div class="container mx-auto px-4 pt-28 py-8">
        <!-- Title Section -->
        <div class="text-center mb-12">
            <h1 class="text-4xl font-bold text-dBlue mb-4">ezInvoice Video Tutorials</h1>
            <p class="text-lg text-gray-600 max-w-3xl mx-auto">
                Learn how to use our invoice maker app with these step-by-step video guides. 
                From creating your first invoice to mastering advanced features, we've got you covered.
            </p>
        </div>

        <!-- Tutorial sections will be dynamically generated here -->
        <div id="tutorial-sections-container">
            <!-- Sections will be populated by JavaScript -->
        </div>

        <!-- CTA Section -->
        <section class="py-12 bg-gradient-to-r from-blue-600 to-blue-800 rounded-xl text-white text-center">
            <div class="max-w-3xl mx-auto px-4">
                <h2 class="text-3xl font-bold mb-4">Ready to Start Creating Professional Invoices?</h2>
                <p class="text-lg mb-8">
                    Download ezInvoice now and put these tutorials into practice. Create and send professional invoices in seconds!
                </p>
                <div class="flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6">
                    <a href="#" id="google-play-cta" class="bg-white text-blue-700 hover:bg-gray-100 transition-colors duration-300 font-bold py-3 px-8 rounded-full flex items-center">
                        <i class="fab fa-google-play mr-2"></i> Get it on Google Play
                    </a>
                    <a href="#" id="appstore-cta" class="bg-transparent hover:bg-blue-700 border-2 border-white font-bold py-3 px-8 rounded-full flex items-center">
                        <i class="fab fa-apple mr-2"></i> Download on App Store
                    </a>
                </div>
            </div>
        </section>

        <!-- FAQ Section -->
        <section class="my-16">
            <div class="section-divider pb-2 mb-8">
                <h2 class="text-3xl font-semibold text-center text-dBlue">Frequently Asked Questions</h2>
            </div>
            
            <div class="max-w-3xl mx-auto">
                <div class="bg-white rounded-lg shadow-sm mb-4 overflow-hidden">
                    <button class="flex justify-between items-center w-full p-5 text-left font-semibold" onclick="toggleFAQ('faq1')">
                        How do I get started with ezInvoice?
                        <svg class="w-5 h-5 transform transition-transform" id="faq1-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                        </svg>
                    </button>
                    <div class="hidden px-5 pb-5" id="faq1">
                        <p class="text-gray-600">
                            To get started with ezInvoice, first download the app from the App Store or Google Play Store. Once installed, create an account and set up your business profile with your logo, contact information, and payment details. From there, you can start creating invoices right away!
                        </p>
                    </div>
                </div>
                
                <div class="bg-white rounded-lg shadow-sm mb-4 overflow-hidden">
                    <button class="flex justify-between items-center w-full p-5 text-left font-semibold" onclick="toggleFAQ('faq2')">
                        Can I customize invoice templates?
                        <svg class="w-5 h-5 transform transition-transform" id="faq2-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                        </svg>
                    </button>
                    <div class="hidden px-5 pb-5" id="faq2">
                        <p class="text-gray-600">
                            Yes, ezInvoice offers multiple customizable invoice templates. You can personalize them by adding your logo, changing colors, adjusting layouts, and adding custom fields. Watch our "Customizing Invoice Templates" tutorial video for detailed instructions.
                        </p>
                    </div>
                </div>
                
                <div class="bg-white rounded-lg shadow-sm mb-4 overflow-hidden">
                    <button class="flex justify-between items-center w-full p-5 text-left font-semibold" onclick="toggleFAQ('faq3')">
                        How do I send invoices to clients?
                        <svg class="w-5 h-5 transform transition-transform" id="faq3-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                        </svg>
                    </button>
                    <div class="hidden px-5 pb-5" id="faq3">
                        <p class="text-gray-600">
                            After creating an invoice, you can send it directly from the app via email, messaging apps, or generate a PDF to share through any platform you prefer. You can also print the invoices if you need physical copies.
                        </p>
                    </div>
                </div>
                
                <div class="bg-white rounded-lg shadow-sm overflow-hidden">
                    <button class="flex justify-between items-center w-full p-5 text-left font-semibold" onclick="toggleFAQ('faq4')">
                        Is ezInvoice free to use?
                        <svg class="w-5 h-5 transform transition-transform" id="faq4-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                        </svg>
                    </button>
                    <div class="hidden px-5 pb-5" id="faq4">
                        <p class="text-gray-600">
                            ezInvoice offers both free and premium versions. The free version provides essential invoicing features, while the premium version unlocks advanced features like unlimited invoices, customizable templates, detailed reports, and customer support.
                        </p>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Footer container, will be populated by JavaScript -->
    <div id="footer-container"></div>

    <script>
        // Function to toggle FAQ visibility
        function toggleFAQ(id) {
            const content = document.getElementById(id);
            const icon = document.getElementById(`${id}-icon`);
            
            if (content.classList.contains('hidden')) {
                content.classList.remove('hidden');
                icon.classList.add('rotate-90');
            } else {
                content.classList.add('hidden');
                icon.classList.remove('rotate-90');
            }
        }
        
        // Function to generate tutorial sections based on videos data
        function generateTutorialSections() {
            // Check if sections already generated to avoid duplication
            if (document.querySelector('#tutorial-sections-container .section-divider')) {
                console.log('Tutorial sections already generated, skipping...');
                return;
            }
            
            if (!window.TUTORIAL_VIDEOS || !Array.isArray(window.TUTORIAL_VIDEOS)) {
                console.error('Tutorial videos data not found or not an array!');
                // Fallback to empty array to prevent errors
                window.TUTORIAL_VIDEOS = [];
                return;
            }
            
            const videos = window.TUTORIAL_VIDEOS;
            const container = document.getElementById('tutorial-sections-container');
            
            // Get unique section names
            const sections = [...new Set(videos.map(video => video.section))];
            
            console.log('Generating sections for:', sections);
            
            // Generate HTML for each section
            sections.forEach(section => {
                // Create section element
                const sectionEl = document.createElement('section');
                sectionEl.className = 'mb-16';
                
                // Create section header
                const headerDiv = document.createElement('div');
                headerDiv.className = 'section-divider pb-2 mb-8';
                headerDiv.innerHTML = `<h2 class="text-3xl font-semibold text-center text-dBlue">${section}</h2>`;
                sectionEl.appendChild(headerDiv);
                
                // Create videos container with appropriate grid layout
                const videosContainer = document.createElement('div');
                const sectionVideos = videos.filter(v => v.section === section);
                
                // Determine grid columns based on number of videos
                let gridClass = 'grid gap-8';
                if (section === 'Getting Started' || section === 'Tips and Tricks') {
                    gridClass += ' md:grid-cols-2';
                } else {
                    gridClass += ' md:grid-cols-2 lg:grid-cols-3';
                }
                
                videosContainer.className = gridClass;
                
                // Generate cards for videos in this section
                sectionVideos.forEach(video => {
                    // Ensure YouTube ID exists
                    const youtubeId = video.youtubeId || 'dQw4w9WgXcQ'; // Fallback ID if missing
                    
                    const videoCard = document.createElement('div');
                    videoCard.className = 'bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-md tutorial-card';
                    videoCard.innerHTML = `
                        <div class="video-container">
                            <iframe src="https://www.youtube.com/embed/${youtubeId}" 
                                title="${video.title}" 
                                frameborder="0" 
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                allowfullscreen></iframe>
                        </div>
                        <div class="p-6">
                            <h3 class="text-xl font-semibold mb-2">${video.title}</h3>
                            <p class="text-gray-600">${video.description}</p>
                            <div class="flex items-center mt-4 text-sm text-gray-500">
                                <span class="flex items-center">
                                    <i class="far fa-clock mr-1"></i> ${video.duration}
                                </span>
                                <span class="mx-2">•</span>
                                <span>${video.level}</span>
                            </div>
                        </div>
                    `;
                    
                    videosContainer.appendChild(videoCard);
                });
                
                sectionEl.appendChild(videosContainer);
                container.appendChild(sectionEl);
            });
            
            console.log('Tutorial sections generated successfully');
        }
        
        // Initialize the page when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded, generating tutorial sections');
            // Generate tutorial sections from constants.js data once
            generateTutorialSections();
            
            // Use component-loader.js for updating app links
            if (typeof window.loadComponents === 'function') {
                window.loadComponents();
            } else {
                console.warn('Component loader not available, using fallback');
                // Fallback if component loader is not available
                if (window.APP_CONSTANTS) {
                    document.querySelectorAll('a[href*="bit.ly/invoice_maker_android"]').forEach(link => {
                        link.href = window.APP_CONSTANTS.ANDROID_APP;
                    });
                    
                    document.querySelectorAll('a[href*="bit.ly/invoice-maker-ios"]').forEach(link => {
                        link.href = window.APP_CONSTANTS.IOS_APP;
                    });
                }
            }
        });
    </script>
</body>

</html>
